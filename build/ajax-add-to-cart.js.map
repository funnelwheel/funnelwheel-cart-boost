{"version":3,"file":"ajax-add-to-cart.js","mappings":";;;;;AAAAA,MAAM,CAAC,UAAUC,CAAV,EAAa;AACnB;AACA,MAAI,OAAOC,qBAAP,KAAiC,WAArC,EAAkD;AACjD,WAAO,KAAP;AACA;;AAEDD,EAAAA,CAAC,CAACE,QAAD,CAAD,CAAYC,EAAZ,CAAe,QAAf,EAAyB,WAAzB,EAAsC,UAAUC,CAAV,EAAa;AAClD,QAAIC,IAAI,GAAGL,CAAC,CAAC,IAAD,CAAZ;AAAA,QACCM,MAAM,GAAGD,IAAI,CAACE,IAAL,CAAU,4BAAV,CADV;AAGA,QAAIC,UAAU,GAAGH,IAAI,CAACE,IAAL,CAChB,0DADgB,CAAjB,CAJkD,CAQlD;;AACA,QAAIE,QAAQ,GAAG,EAAf;AACAD,IAAAA,UAAU,CAACE,IAAX,CAAgB,UAAUC,CAAV,EAAaC,KAAb,EAAoB;AACnC;AACA,UAAIC,SAAS,GAAGD,KAAK,CAACE,IAAtB;AAAA,UACCC,UAAU,GAAGH,KAAK,CAACI,KADpB;;AAGA,UAAIH,SAAS,IAAIE,UAAjB,EAA6B;AAC5B;AACA,YAAIF,SAAS,IAAI,aAAjB,EAAgC;AAC/BA,UAAAA,SAAS,GAAG,YAAZ;AACAE,UAAAA,UAAU,GACTV,IAAI,CAACE,IAAL,CAAU,0BAAV,EAAsCU,GAAtC,MACAF,UAFD;AAGA,SAP2B,CAS5B;;;AACA,YACC,CAACH,KAAK,CAACM,IAAN,IAAc,UAAd,IAA4BN,KAAK,CAACM,IAAN,IAAc,OAA3C,KACAN,KAAK,CAACO,OAAN,IAAiB,KAFlB,EAGE;AACD;AACA,SAf2B,CAiB5B;;;AACAV,QAAAA,QAAQ,CAACW,IAAT,CAAc;AACbN,UAAAA,IAAI,EAAED,SADO;AAEbG,UAAAA,KAAK,EAAED;AAFM,SAAd;AAIA;AACD,KA5BD;;AA8BA,QAAI,CAACN,QAAQ,CAACY,MAAd,EAAsB;AACrB;AACA;;AAEDjB,IAAAA,CAAC,CAACkB,cAAF;AAEAjB,IAAAA,IAAI,CAACkB,KAAL,CAAW;AACVC,MAAAA,OAAO,EAAE,IADC;AAEVC,MAAAA,UAAU,EAAE;AACXC,QAAAA,UAAU,EAAE,SADD;AAEXC,QAAAA,OAAO,EAAE;AAFE;AAFF,KAAX;AAQA3B,IAAAA,CAAC,CAACE,QAAQ,CAAC0B,IAAV,CAAD,CAAiBC,OAAjB,CAAyB,gBAAzB,EAA2C,CAACvB,MAAD,EAASG,QAAT,CAA3C;AAEAT,IAAAA,CAAC,CAAC8B,IAAF,CAAO;AACNZ,MAAAA,IAAI,EAAE,MADA;AAENa,MAAAA,GAAG,EAAEC,kBAAkB,CAACC,WAAnB,CACHC,QADG,GAEHC,OAFG,CAEK,cAFL,EAEqB,aAFrB,CAFC;AAKNC,MAAAA,IAAI,EAAE3B,QALA;AAMN4B,MAAAA,OAAO,EAAE,UAAUC,QAAV,EAAoB;AAC5B,YAAI,CAACA,QAAL,EAAe;AACd;AACA;;AAED,YAAIA,QAAQ,CAACC,KAAT,GAAiBD,QAAQ,CAACE,WAA9B,EAA2C;AAC1CC,UAAAA,MAAM,CAACC,QAAP,GAAkBJ,QAAQ,CAACE,WAA3B;AACA;AACA;;AAEDxC,QAAAA,CAAC,CAACE,QAAQ,CAAC0B,IAAV,CAAD,CAAiBC,OAAjB,CAAyB,eAAzB,EAA0C,CACzCS,QAAQ,CAACK,SADgC,EAEzCL,QAAQ,CAACM,SAFgC,EAGzCtC,MAHyC,CAA1C;AAKA,OArBK;AAsBNuC,MAAAA,QAAQ,EAAE,YAAY;AACrBxC,QAAAA,IAAI,CAACyC,OAAL;AACA;AAxBK,KAAP;AA2BA,WAAO,KAAP;AACA,GApFD;AAqFA,CA3FK,CAAN,C","sources":["webpack://woocommerce-grow-cart/./src/ajax-add-to-cart.js"],"sourcesContent":["jQuery(function ($) {\r\n\t/* global wc_add_to_cart_params */\r\n\tif (typeof wc_add_to_cart_params === \"undefined\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t$(document).on(\"submit\", \"form.cart\", function (e) {\r\n\t\tvar form = $(this),\r\n\t\t\tbutton = form.find(\".single_add_to_cart_button\");\r\n\r\n\t\tvar formFields = form.find(\r\n\t\t\t'input:not([name=\"product_id\"]), select, button, textarea'\r\n\t\t);\r\n\r\n\t\t// create the form data array\r\n\t\tvar formData = [];\r\n\t\tformFields.each(function (i, field) {\r\n\t\t\t// store them so you don't override the actual field's data\r\n\t\t\tvar fieldName = field.name,\r\n\t\t\t\tfieldValue = field.value;\r\n\r\n\t\t\tif (fieldName && fieldValue) {\r\n\t\t\t\t// set the correct product/variation id for single or variable products\r\n\t\t\t\tif (fieldName == \"add-to-cart\") {\r\n\t\t\t\t\tfieldName = \"product_id\";\r\n\t\t\t\t\tfieldValue =\r\n\t\t\t\t\t\tform.find(\"input[name=variation_id]\").val() ||\r\n\t\t\t\t\t\tfieldValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if the fiels is a checkbox/radio and is not checked, skip it\r\n\t\t\t\tif (\r\n\t\t\t\t\t(field.type == \"checkbox\" || field.type == \"radio\") &&\r\n\t\t\t\t\tfield.checked == false\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// add the data to the array\r\n\t\t\t\tformData.push({\r\n\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\tvalue: fieldValue,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!formData.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tform.block({\r\n\t\t\tmessage: null,\r\n\t\t\toverlayCSS: {\r\n\t\t\t\tbackground: \"#ffffff\",\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t$(document.body).trigger(\"adding_to_cart\", [button, formData]);\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: woocommerce_params.wc_ajax_url\r\n\t\t\t\t.toString()\r\n\t\t\t\t.replace(\"%%endpoint%%\", \"add_to_cart\"),\r\n\t\t\tdata: formData,\r\n\t\t\tsuccess: function (response) {\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.error & response.product_url) {\r\n\t\t\t\t\twindow.location = response.product_url;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(document.body).trigger(\"added_to_cart\", [\r\n\t\t\t\t\tresponse.fragments,\r\n\t\t\t\t\tresponse.cart_hash,\r\n\t\t\t\t\tbutton,\r\n\t\t\t\t]);\r\n\t\t\t},\r\n\t\t\tcomplete: function () {\r\n\t\t\t\tform.unblock();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\treturn false;\r\n\t});\r\n});\r\n"],"names":["jQuery","$","wc_add_to_cart_params","document","on","e","form","button","find","formFields","formData","each","i","field","fieldName","name","fieldValue","value","val","type","checked","push","length","preventDefault","block","message","overlayCSS","background","opacity","body","trigger","ajax","url","woocommerce_params","wc_ajax_url","toString","replace","data","success","response","error","product_url","window","location","fragments","cart_hash","complete","unblock"],"sourceRoot":""}